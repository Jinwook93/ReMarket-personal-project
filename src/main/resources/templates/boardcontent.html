<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê²Œì‹œê¸€ ì‘ì„±</title>
<style>
body {
	font-family: Arial, sans-serif;
	line-height: 1.6;
	margin: 0;
	padding: 20px;
	background-color: #f9f9f9;
}

.container {
	max-width: 750px;
	margin: 0 auto;
	background: #fff;
	padding: 20px;
	border-radius: 8px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	margin-top: 65px;
}

.container h1 {
	text-align: center;
	color: #333;
}

.container form {
	display: flex;
	flex-direction: column;
}

.container label {
	margin-top: 10px;
	font-weight: bold;
}

.container  input, .container textarea, .container  select {
	margin-top: 5px;
	padding: 10px;
	font-size: 16px;
	border: 1px solid #ddd;
	border-radius: 4px;
	width: 100%;
	box-sizing: border-box;
}

.container textarea {
	height: 150px;
	resize: none;
}

/* .container button:not(.buttons-container button) { */
/*   margin-top: 20px; */
/*   padding: 10px; */
/*   font-size: 16px; */
/*   color: #fff; */
/*   background-color: #007bff; */
/*   border: none; */
/*   border-radius: 4px; */
/*   cursor: pointer; */
/* } */
.container button:hover {
	background-color: #0056b3;
}

.container .comment-section {
	margin-top: 40px;
	border-top: 2px solid #ddd;
	padding-top: 20px;
}

.container .comment {
	margin-bottom: 15px;
	padding: 10px;
	background-color: #f1f1f1;
	border-radius: 4px;
}

.container .comment-author {
	font-weight: bold;
}

.container .comment-text {
	margin-top: 5px;
}

#like.active {
	background-color: red;; /* ì¢‹ì•„ìš” ë²„íŠ¼ í™œì„±í™” ì‹œ ë°°ê²½ìƒ‰ (ì˜ˆ: ì—°í•œ ë¹¨ê°„ìƒ‰) */
}

#dislike.active {
	background-color: red; /* ì‹«ì–´ìš” ë²„íŠ¼ í™œì„±í™” ì‹œ ë°°ê²½ìƒ‰ (ì˜ˆ: ì—°í•œ íšŒìƒ‰) */
}

.commentlike.active {
	background-color: red;; /* ì¢‹ì•„ìš” ë²„íŠ¼ í™œì„±í™” ì‹œ ë°°ê²½ìƒ‰ (ì˜ˆ: ì—°í•œ ë¹¨ê°„ìƒ‰) */
}

.commentdislike.active {
	background-color: red; /* ì‹«ì–´ìš” ë²„íŠ¼ í™œì„±í™” ì‹œ ë°°ê²½ìƒ‰ (ì˜ˆ: ì—°í•œ íšŒìƒ‰) */
}

/* ëª¨ë“  í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ */
input:not([type="checkbox"]) {
	/*   background-color: lightgray; */
	border: 1px solid black;
}

/* ëª¨ë“  ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
input[type="checkbox"] {
	width: 20px;
	height: 20px;
}

/* íŠ¹ì • ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
#isPrivate {
	width: 18px;
	height: 18px;
	accent-color: blue;
}

.submitComment {
	background-color: #a5592a;
	color: white;
	font-weight: bold; padding : 6px 12px;
	font-size: 14px;
	border: none;
	cursor: pointer;
	border-radius: 4px;
	transition: background-color 0.2sease-in-out;
	padding: 6px 12px;
}

.board-details span {
	color: gray; /* íšŒìƒ‰ìœ¼ë¡œ ì„¤ì • */
	font-size: 13px; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ í¬ê¸° ì„¤ì • */
}

.board-details p {
	font-size: 13px; /* p íƒœê·¸ í…ìŠ¤íŠ¸ í¬ê¸° ì„¤ì • */
	color: black; /* p íƒœê·¸ í…ìŠ¤íŠ¸ëŠ” ê¸°ë³¸ ìƒ‰ìƒìœ¼ë¡œ ì„¤ì • */
}

.board-details span:not(:last-child) {
	margin-right: 2px; /* | ê¸°í˜¸ ì „í›„ì— ì—¬ë°±ì„ ì¶”ê°€ */
}
</style>
<link rel="stylesheet" type="text/css" href="/css/commentData.css">
<link rel="stylesheet" href="/css/profile_Board_Table.css">
</head>
<body>

	<div th:replace="~{header.html}"></div>
	<div class="container">
		<!-- 		<p th:text="|ê¸€ ë²ˆí˜¸ : ${board.id}|"></p> -->
		<p>
			<span class="board-details"> <span th:text="${board.buy_Sell}"></span>
				<span> | </span> <span th:text="${board.category}"></span>
			</span>
		</p>
		<!--ë¡œê·¸ì¸ ì¤‘ì¸ ìœ ì € -->
		<!--         <label for="title">ë¡œê·¸ì¸ ìœ ì €</label> -->
		<input type="hidden" th:value="${principalDetails.name}"
			id="principalDetails" name="principalDetails" readonly>






		<div style="display: flex; justify-content: space-between;">




			<!-- <div style="display: flex; flex-direction: column; justify-content: center;margin-top:45px; "> -->
			<div>


				<h2 class="boardTitle" th:text="${board.title}"></h2>



				<h2 th:id="|price-${board.price}|" th:text=|${board.price}|></h2>

				<div style="display: flex;">
					<span class="board-details"> <span
						th:text="${#dates.format(board.createTime, 'yyyy-MM-dd HH:mm')}"></span>
						<span> | </span> <span>ì¡°íšŒ </span> <span th:text="${board.view}"></span>
						<span> | </span> <span> ì°œ </span> <span
						th:text="${board.totalLike - board.totalDislike < 0 ? 0 : board.totalLike - board.totalDislike}"></span>
				</div>
				<p>
					<span class="board-details"> <span>ê±°ë˜í¬ë§ì§€ì—­</span>
						<button type="button" class="small-btn" id="boardAddress"
							th:text="${board.address}"></button>
				</p>

				</span>




				<!-- 	<label for="boardFiles">ì²¨ë¶€ íŒŒì¼</label> -->
				<div
					style="display: flex; flex-direction: row; flex-wrap: wrap; margin-top: 10px;">
					<!--     boardFiles ë°°ì—´ì´ ë¹„ì–´ ìˆì§€ ì•Šì€ ê²½ìš° -->
					<div th:if="${boardFiles != null and boardFiles.length > 0}"
						th:each="file : ${boardFiles}">
						<div style="margin-right: 10px; margin-bottom: 10px;">
							<a th:href="@{${file}}"> <img th:src="@{${file}}"
								alt="ì²¨ë¶€ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°" loading="lazy"
								style="display: block; width: 100px; height: 100px;">
							</a>
							<!-- 					 <a th:href="@{${file}}" download>ë‹¤ìš´ë¡œë“œ</a> -->
						</div>
					</div>

					<!--     boardFiles ë°°ì—´ì´ ë¹„ì–´ ìˆëŠ” ê²½ìš° -->
					<div th:if="${boardFiles == null or boardFiles.length == 0}">
						<div style="margin-right: 10px; margin-bottom: 10px;">
							<img src="/boardimage/nullimage.jpg" alt="ì²¨ë¶€ íŒŒì¼ ì—†ìŒ"
								style="display: block; width: 100px; height: 100px;">
							<!-- 							<p>ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</p> -->
						</div>
					</div>
				</div>


				<!-- ê¸€ ë²ˆí˜¸ -->
				<!-- 				<label for="title">ê¸€ ë²ˆí˜¸ : <span th:text="${board.id}"></span></label> -->
				<input type="hidden" th:value="${board.id}" id="id" name="id"
					readonly> <br>
				<!-- 					<label for="buy_Sell">í•­ëª© : <span -->
				<!-- 					th:text="${board.buy_Sell}"></span></label>  -->


				<input type="hidden" th:value="${board.buy_Sell}" id="buy_Sell"
					name="buy_Sell" readonly><br>

				<!-- 				<label for="category">ë¬¼í’ˆ ì¢…ë¥˜ : <span -->
				<!-- 					th:text="${board.category}"></span></label> -->

				<input type="hidden" th:value="${board.category}" id="category"
					name="category" readonly><br>

				<!-- 				<label for="createTime">ë“±ë¡ì¼ : <span -->
				<!-- 					th:text="${#dates.format(board.createTime, 'yyyy-MM-dd HH:mm')}"></span></label> -->
				<input type="hidden"
					th:value="${#dates.format(board.createTime, 'yyyy-MM-dd HH:mm')}"
					id="createTime" name="createTime" readonly><br>


				<!-- ì œëª© ì…ë ¥ -->
				<!-- 				<label for="title">ì œëª© : <span th:text="${board.title}"></span></label> -->
				<input type="hidden" th:value="${board.title}" id="title"
					name="title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" readonly>

				<!-- 					<br> <label -->
				<!-- 					for="name">ì‘ì„±ì </label> -->
				<!-- 				<div style="display: flex; align-items: center;"> -->
				<!-- 					í”„ë¡œí•„ ì´ë¯¸ì§€ -->
				<!-- 					<div th:if="${board.memberEntity.profileImage != null}"> -->
				<!-- 						<div id="imagePreview" style="margin-top: 10px;"> -->
				<!-- 							<img id="previewImage" -->
				<!-- 								th:src="@{{imagePath}(imagePath=${board.memberEntity.profileImage})}" -->
				<!-- 								alt="Profile Image Preview" -->
				<!-- 								style="display: block; width: 50px; height: 50px; margin-right: 10px;"> -->
				<!-- 						</div> -->
				<!-- 					</div> -->

				<!-- 					<div th:if="${board.memberEntity.profileImage == null}"> -->
				<!-- 						<div id="imagePreview" style="margin-top: 10px;"> -->
				<!-- 							<img id="previewImage" src="/boardimage/nullimage.jpg" -->
				<!-- 								alt="no profile image" -->
				<!-- 								style="display: block; width: 50px; height: 50px; margin-right: 10px;"> -->
				<!-- 						</div> -->
				<!-- 					</div> -->


				<!-- 					ì´ë¦„ -->
				<!-- 					<span th:text="${board.memberEntity.name}"></span> -->
				<!-- 				</div> -->









				<!--       ì²¨ë¶€ íŒŒì¼ -->
				<!--             <label for="boardFile">ì²¨ë¶€ íŒŒì¼</label> -->
				<!--             <input type ="file"  id="boardFile" name="boardFile" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"  th:result=""/> -->


				<!-- ì‘ì„±ì ì•„ì´ë”” (hidden) -->
				<input type="hidden" th:value="${board.memberEntity.userid}"
					id="userid" name="userid"> <input type="hidden"
					th:value="${board.memberEntity.id}" id="memberid" name="memberid">



				<!-- ë¬¼í’ˆëª… ì…ë ¥ -->
				<!-- 				<label for="product">ë¬¼í’ˆ : <span th:text="${board.product}"></span></label> -->
				<input type="hidden" th:value="${board.product}" id="product"
					name="product" placeholder="ë¬¼ê±´ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" readonly> <br>

				<!-- ê°€ê²© ì…ë ¥ -->
				<!-- 				<label for="price">ê°€ê²© : <span th:text="${board.price}"></label> -->
				<input type="hidden" th:value="${board.price}" id="price"
					name="price" placeholder="ê°€ê²©ì„ ì…ë ¥í•˜ì„¸ìš”" readonly>

			</div>

			<div>
				<!--     boardFiles ë°°ì—´ì´ ë¹„ì–´ ìˆëŠ” ê²½ìš° -->
				<div th:if="${boardFiles == null or boardFiles.length == 0}">
					<div style="margin-right: 10px; margin-bottom: 10px;">
						<img src="/boardimage/nullimage.jpg" alt="ì²¨ë¶€ íŒŒì¼ ì—†ìŒ"
							style="display: block; width: 300px; height: 311px; margin-top: 20px;">
						<!-- 					<p>ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</p> -->
					</div>
				</div>


				<!--     boardFiles ë°°ì—´ì´ ìˆëŠ” ê²½ìš° -->

				<div th:if="${boardFiles != null and boardFiles.length > 0}">
					<div style="margin-right: 10px; margin-bottom: 10px;">
						<a th:href="@{${boardFiles[0]}}"> <img
							th:src="@{${boardFiles[0]}}" alt="ì²¨ë¶€ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°" loading="lazy"
							style="display: block; width: 300px; height: 311px; margin-top: 20px;">
						</a>
						<!--    <a th:href="@{${boardFiles[0]}}" download>ë‹¤ìš´ë¡œë“œ</a> -->
					</div>
				</div>







			</div>









		</div>
		<!-- <hr>			 -->
		<div style="margin-top: -50px; margin-bottom: 100px;">
			<label>ìƒí’ˆ ì •ë³´</label>
			<hr>
			<div th:text="${board.contents}"></div>
		</div>
		<!-- ì£¼ì†Œ -->
		<!-- 		<label for="address">ì£¼ì†Œ : <span th:text="${board.address}"></label> -->
		<input type="hidden" id="address" name="address"
			th:value="${board.address}" required /> <br>








		<!-- ì¡°íšŒìˆ˜ (disabled) -->
		<!-- 		<label for="view">ì¡°íšŒìˆ˜ : <span th:text="${board.view}"></label> -->
		<input type="hidden" th:value="${board.view}" id="view" name="view"
			disabled> <br>








		<!-- 			<label for="boardFiles">ì²¨ë¶€ íŒŒì¼</label> -->
		<!-- 		<div -->
		<!-- 			style="display: flex; flex-direction: row; flex-wrap: wrap; margin-top: 10px;"> -->
		<!-- 			<!--     boardFiles ë°°ì—´ì´ ë¹„ì–´ ìˆì§€ ì•Šì€ ê²½ìš° -->
		<!-- 			<div th:if="${boardFiles != null and boardFiles.length > 0}" -->
		<!-- 				th:each="file : ${boardFiles}"> -->
		<!-- 				<div style="margin-right: 10px; margin-bottom: 10px;"> -->
		<!-- 					<a th:href="@{${file}}"> <img th:src="@{${file}}" -->
		<!-- 						alt="ì²¨ë¶€ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°" loading="lazy" -->
		<!-- 						style="display: block; width: 100px; height: 100px;"> -->
		<!-- 					</a> <a th:href="@{${file}}" download>ë‹¤ìš´ë¡œë“œ</a> -->
		<!-- 				</div> -->
		<!-- 			</div> -->

		<!-- 			<!--     boardFiles ë°°ì—´ì´ ë¹„ì–´ ìˆëŠ” ê²½ìš° -->
		<!-- 			<div th:if="${boardFiles == null or boardFiles.length == 0}"> -->
		<!-- 				<div style="margin-right: 10px; margin-bottom: 10px;"> -->
		<!-- 					<img src="/boardimage/nullimage.jpg" alt="ì²¨ë¶€ íŒŒì¼ ì—†ìŒ" -->
		<!-- 						style="display: block; width: 100px; height: 100px;"> -->
		<!-- 					<p>ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</p> -->
		<!-- 				</div> -->
		<!-- 			</div> -->
		<!-- 		</div> -->



		<!-- ë‚´ìš© ì…ë ¥ -->
		<!-- 		<label for="contents">ë‚´ìš©</label> -->
		<!-- 		<textarea id="contents" th:text="${board.contents}" name="contents" -->
		<!-- 			placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required readonly></textarea> -->


		<!-- boardFiles ë°°ì—´ì„ ë°˜ë³µí•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ì¶œë ¥ -->


		<!--  â€»enumì„ ì§ì ‘ í˜¸ì¶œí•˜ë©´ toString()ì„ ìë™ìœ¼ë¡œ í˜¸ì¶œí•¨ -->
		<!-- â€» í•˜ì§€ë§Œ enumì˜ ê²½ìš° ë¬¸ìì—´ì„ ë¹„êµí•˜ë ¤ë©´ .nameì„ ì¨ì•¼í•¨  -->
		<!-- 				 ì‚½ë‹ˆë‹¤ ì¹´í…Œê³ ë¦¬ì˜ ê²½ìš° êµ¬ë§¤ ì¤‘/ ì˜ˆì•½/ êµ¬ë§¤ì™„ë£Œ ë²„íŠ¼  -->



		<!-- 'ì‚½ë‹ˆë‹¤' ì¹´í…Œê³ ë¦¬ -->
		<!-- 		<div -->
		<!-- 			th:if="${board.memberEntity.userid == principalDetails.name && board.buy_Sell.name == 'ì‚½ë‹ˆë‹¤' }"> -->
		<!-- 			<button type="button" th:id="|buy-${board.id}|" -->
		<!-- 				th:data-TradeBoardId="${board.id}">ê±°ë˜ ì¤‘</button> -->
		<!-- 		</div> -->

		<!-- 'íŒë‹ˆë‹¤' ì¹´í…Œê³ ë¦¬ -->
		<!-- 		<div -->
		<!-- 			th:if="${board.memberEntity.userid == principalDetails.name && board.buy_Sell.name  == 'íŒë‹ˆë‹¤'}"> -->
		<!-- 			<button type="button" th:id="|sell-${board.id}|" -->
		<!-- 				th:data-TradeBoardId="${board.id}">íŒë§¤ ì¤‘</button> -->
		<!-- 		</div> -->

		<!-- 		<div -->
		<!-- 			th:if="${board.memberEntity.userid != principalDetails.name && board.buy_Sell.name  == 'íŒë‹ˆë‹¤'}"> -->
		<!-- 			<button type="button" th:id="|enroll-Sell-${board.id}|" -->
		<!-- 				th:data-TradeSellBoardId="${board.id}">êµ¬ë§¤ ìš”ì²­</button> -->
		<!-- 		</div> -->

		<!-- <div th:each="trade : ${board.trades}"> -->
		<!--     <div th:if="${board.memberEntity.userid != principalDetails.name}"> -->
		<!--         <div th:if="${(trade.accept1 == false || trade.accept2 == false || trade.accept1 == null || trade.accept2 == null)}"> -->
		<!--             <button type="button" th:id="|enroll-Buy-${board.id}|" -->
		<!--                     th:data-TradeBuyBoardId="${board.id}">ê±°ë˜ ìš”ì²­</button> -->
		<!--         </div> -->
		<!--     </div> -->
		<!-- </div> -->


		<!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
		<div
			style="display: flex; align-items: center; justify-content: space-between; padding: 0 30px; background-color: whitesmoke; border-radius: 5px; margin-top: 60px;">


			<div
				style="display: flex; align-content: flex-start; align-items: center;">
				<div th:if="${board.memberEntity.profileImage != null}">
					<div id="imagePreview" style="margin-top: 10px;">
						<img id="previewImage"
							th:src="@{{imagePath}(imagePath=${board.memberEntity.profileImage})}"
							alt="Profile Image Preview"
							style="display: block; width: 150px; height: 150px; padding: 30px; margin-right: 10px;">
					</div>
				</div>

				<div th:if="${board.memberEntity.profileImage == null}">
					<div id="imagePreview" style="margin-top: 10px;">
						<img id="previewImage" src="/boardimage/nullimage.jpg"
							alt="no profile image"
							style="display: block; width: 150px; height: 150px; padding: 30px; margin-right: 10px;">
					</div>
				</div>


				<!-- ì´ë¦„ -->
				<span style="font-weight:bold;font-size: 20px;" th:text="${board.memberEntity.name}"></span>


			</div>

			<div
				style="display: flex; align-content: flex-end; align-items: center;"
				class="buttons-container">
				<div
					th:if="${board.memberEntity.userid != principalDetails.name && #lists.isEmpty(board.trades)}">
					<button type="button" th:id="|enroll-Book1-${board.id}|"
						th:data-TradeBook1BoardId="${board.id}" class="bookTrade">ì˜ˆì•½
						ì‹ ì²­</button>
				</div>


				<div
					th:if="${board.memberEntity.userid != principalDetails.name && #lists.isEmpty(board.trades)}">
					<button type="button" th:id="|enroll-Buy-${board.id}|"
						th:data-TradeBuyBoardId="${board.id}" class="applyTrade">ê±°ë˜
						ì‹ ì²­</button>
				</div>




				<div th:each="trade , iterStat :${board.trades}">
					<div style="display: flex;" class="buttons-container">

						<div
							th:if="${
              board.id == trade.boardEntity.id  
             and trade.booking1 
              and trade.booking2
             and trade?.tradeStatus?.name != 'ì™„ë£Œ'}">
							<!-- 						<button type="button" th:id="|enroll-Book2-${board.id}|" -->
							<!-- 							th:data-TradeBook2BoardId="${board.id}">ì˜ˆì•½ ì¤‘</button> -->
							<button type="button" th:data-TradeBook2BoardId="${board.id}"
								class="booking">ì˜ˆì•½ ì¤‘</button>

						</div>

						<div
							th:if="${
              board.id == trade.boardEntity.id  
             and trade.booking1 
              and trade.booking2
             and trade?.tradeStatus?.name != 'ì™„ë£Œ'
            and board.memberEntity.userid == principalDetails.name}">
							<button type="button" th:id="|change-enroll-Book2-${board.id}|"
								th:data-TradeBook2BoardId="${board.id}" class="changeTrading">ê±°ë˜
								ì¤‘ìœ¼ë¡œ ì „í™˜</button>



						</div>


						<div
							th:if="${board.id == trade.boardEntity.id 
             and trade.accept1  == true
             and trade.accept2  == true
             and trade?.tradeStatus?.name != 'ì™„ë£Œ'}">
							<button type="button" th:id="|enroll-Sell-${board.id}|"
								th:data-TradeSellBoardId="${board.id}" class="trading">ê±°ë˜
								ì§„í–‰ ì¤‘</button>
						</div>
						<div
							th:if="${board.id == trade.boardEntity.id
             and trade.accept1  == true
             and trade.accept2  == true
             and board.memberEntity.userid == principalDetails.name 
             and trade?.tradeStatus?.name != 'ì™„ë£Œ'}">

							<button type="button" th:id="|complete2-Sell-${trade.id}|"
								th:data-Complete2TradeSellBoardId="${board.id}"
								class="completeTrade">ê±°ë˜ì™„ë£Œ</button>
						</div>

						<div
							th:if="${
					             ((tradeDTO[iterStat.index].member1Id == loggedId
			or		              tradeDTO[iterStat.index].member2Id == loggedId)
				and	             trade.booking1  == true
             and trade.booking2  == true) 
             or (trade.accept1  == true
             and trade.accept2  == true)
             and trade?.tradeStatus?.name != 'ì™„ë£Œ'}">
							<button type="button" th:id="|cancel-trade-${trade.id}|"
								th:data-CancelTradeSellBoardId="${trade.id}" class="cancelTrade">ê±°ë˜
								ì·¨ì†Œ</button>
						</div>

						<div
							th:if="${trade.tradeStatus != null and trade.tradeStatus.name == 'ì™„ë£Œ'}">
							<h3 style="color: red;">â€» ê±°ë˜ê°€ ì™„ë£Œëœ ê²Œì‹œê¸€ì…ë‹ˆë‹¤</h3>
						</div>
					</div>
				</div>

			</div>





		</div>

		<div style="display: flex;">
			<!-- 			<div -->
			<!-- 				th:if="${board.memberEntity.userid != principalDetails.name && #lists.isEmpty(board.trades)}"> -->
			<!-- 				<button type="button" th:id="|enroll-Book1-${board.id}|" -->
			<!-- 					th:data-TradeBook1BoardId="${board.id}">ì˜ˆì•½ ì‹ ì²­</button> -->
			<!-- 			</div> -->


			<!-- 			<div -->
			<!-- 				th:if="${board.memberEntity.userid != principalDetails.name && #lists.isEmpty(board.trades)}"> -->
			<!-- 				<button type="button" th:id="|enroll-Buy-${board.id}|" -->
			<!-- 					th:data-TradeBuyBoardId="${board.id}">ê±°ë˜ ì‹ ì²­</button> -->
			<!-- 			</div> -->


			<!-- 			<div th:each="trade : ${board.trades}"> -->
			<!-- 				<div style="display: flex;"> -->

			<!-- 					<div -->
			<!-- 						th:if="${ -->
			<!--               board.id == trade.boardEntity.id   -->
			<!--              and trade.booking1  -->
			<!--               and trade.booking2 -->
			<!--              and trade?.tradeStatus?.name != 'ì™„ë£Œ'}"> -->
			<!-- 						<button type="button" th:id="|enroll-Book2-${board.id}|" -->
			<!-- 							th:data-TradeBook2BoardId="${board.id}">ì˜ˆì•½ ì¤‘</button> -->


			<!-- 					</div> -->

			<!-- 					<div -->
			<!-- 						th:if="${ -->
			<!--               board.id == trade.boardEntity.id   -->
			<!--              and trade.booking1  -->
			<!--               and trade.booking2 -->
			<!--              and trade?.tradeStatus?.name != 'ì™„ë£Œ' -->
			<!--             and board.memberEntity.userid == principalDetails.name}"> -->
			<!-- 						<button type="button" th:id="|change-enroll-Book2-${board.id}|" -->
			<!-- 							th:data-TradeBook2BoardId="${board.id}">ê±°ë˜ ì¤‘ìœ¼ë¡œ ë³€í™˜</button> -->



			<!-- 					</div> -->


			<!-- 					<div -->
			<!-- 						th:if="${board.id == trade.boardEntity.id  -->
			<!--              and trade.accept1  == true -->
			<!--              and trade.accept2  == true -->
			<!--              and trade?.tradeStatus?.name != 'ì™„ë£Œ'}"> -->
			<!-- 						<button type="button" th:id="|enroll-Sell-${board.id}|" -->
			<!-- 							th:data-TradeSellBoardId="${board.id}">ê±°ë˜ ì§„í–‰ ì¤‘</button> -->
			<!-- 					</div> -->
			<!-- 					<div -->
			<!-- 						th:if="${board.id == trade.boardEntity.id -->
			<!--              and trade.accept1  == true -->
			<!--              and trade.accept2  == true -->
			<!--              and board.memberEntity.userid == principalDetails.name  -->
			<!--              and trade?.tradeStatus?.name != 'ì™„ë£Œ'}"> -->

			<!-- 						<button type="button" th:id="|complete2-Sell-${trade.id}|" -->
			<!-- 							th:data-Complete2TradeSellBoardId="${board.id}">ê±°ë˜ì™„ë£Œ</button> -->
			<!-- 					</div> -->
			<!-- 				</div> -->

			<!-- 				<div -->
			<!-- 					th:if="${ -->
			<!-- 					             (trade.booking1  == true -->
			<!--              and trade.booking2  == true)  -->
			<!--              or (trade.accept1  == true -->
			<!--              and trade.accept2  == true) -->
			<!--              and trade?.tradeStatus?.name != 'ì™„ë£Œ'}"> -->
			<!-- 					<button type="button" th:id="|cancel-trade-${trade.id}|" -->
			<!-- 						th:data-CancelTradeSellBoardId="${trade.id}">ê±°ë˜ ì·¨ì†Œ</button> -->
			<!-- 				</div> -->

			<!-- 				<div -->
			<!-- 					th:if="${trade.tradeStatus != null and trade.tradeStatus.name == 'ì™„ë£Œ'}"> -->
			<!-- 					<p>ê±°ë˜ê°€ ì™„ë£Œëœ ê²Œì‹œê¸€ì…ë‹ˆë‹¤</p> -->
			<!-- 				</div> -->

			<!-- 			</div> -->

		</div>



		<!-- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ (ì¡°ê±´ë¶€ í‘œì‹œ) -->
		<!-- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ê³¼ ì¢‹ì•„ìš”/ì‹«ì–´ìš” ì˜ì—­ (ì–‘ìª½ ì •ë ¬) -->
		<div
			style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">

			<!-- ì™¼ìª½ : ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ -->
			<div>
			<div th:if="${board.memberEntity.userid == principalDetails.name}">
    <div th:each="trade, iterStat : ${board.trades}">
        <div th:if="${trade?.tradeStatus?.name != 'ì™„ë£Œ'}">
            <!-- ìˆ˜ì • ë²„íŠ¼ -->
            <button type="button" th:id="|updateBoard-${board.id}|"
                    th:data-updateBoardId="${board.id}"
                    th:onclick="'window.location.href=\'/board/updateboard/' + ${board.id} + '\';'"
                    style="background-color: #4caf50; color: white; padding: 5px 10px; border-radius: 5px; border: none; cursor: pointer;">
                ìˆ˜ì •
            </button>
        </div>
    </div>
    
    <!-- ì‚­ì œ ë²„íŠ¼ -->
    <button type="button" th:id="|deleteBoard-${board.id}|"
            th:data-deleteBoardId="${board.id}"
            style="background-color: red; color: white; padding: 5px 10px; border-radius: 5px; border: none; cursor: pointer;">
        ì‚­ì œ
    </button>
</div>

			</div>

			<!-- ì˜¤ë¥¸ìª½ : ì¢‹ì•„ìš”/ì‹«ì–´ìš” -->
			<div>
				<div th:if="${board.memberEntity.userid != principalDetails.name}">
					<button type="button" id="like" name="like" class="commentlike"
						th:text="'â¤ï¸ ' + ${board.totalLike}" style="margin-right: 10px;">â¤ï¸
						Like</button>
					<button type="button" id="dislike" name="dislike"
						class="commentdislike" th:text="'ğŸ–¤ ' + ${board.totalDislike}">ğŸ–¤
						Dislike</button>
				</div>

				<!-- ì‘ì„±ìë¼ë©´ ìˆ«ìë§Œ í‘œì‹œ -->
				<div
					th:unless="${board.memberEntity.userid != principalDetails.name}">
					<span th:text="'â¤ï¸ ' + ${board.totalLike}"
						style="margin-right: 20px;"></span> <span
						th:text="'ğŸ–¤ ' + ${board.totalDislike}"></span>
				</div>
			</div>

		</div>


		<div>

			<!-- ëŒ“ê¸€ ì‘ì„± í¼ -->
			<div class="comment-section">
				<!--             <form id="commentForm"> -->
				<label for="commentText">ëŒ“ê¸€</label>
				<textarea id="commentText" name="commentText"
					placeholder="ëŒ“ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”" required></textarea>
				<div style="display: flex; gap: 10px; align-items: center;">
					<label style="display: flex; align-items: center; gap: 5px;">
						<input type="checkbox" id="isPrivate">ê²Œì‹œìë§Œ ë³´ê¸°
					</label>
					<button type="button" id="submitComment" class="submitComment"
						style="margin-top: 8px;">ì‘ì„±</button>
				</div>
				<br>
				<!--             </form> -->

				<!-- ëŒ“ê¸€ ëª©ë¡ -->
				<div id="commentsList">
					<!--                 <div  class="comment"> -->
					<!--                     <p class="comment-author">í™ê¸¸ë™</p> -->
					<!--                     <p class="comment-text">ì´ê²ƒì€ ëŒ“ê¸€ ì˜ˆì‹œì…ë‹ˆë‹¤.</p> -->
					<!--                 </div> -->
					<!-- ë‹¤ë¥¸ ëŒ“ê¸€ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤. -->
				</div>
			</div>
		</div>
	</div>
	<div th:replace="~{footer.html}"></div>

	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	
	<script src="/js/updateComment.js" type="module"></script>
	<script src="/js/deleteComment.js" type="module"></script>
	<script src="/js/deleteBoard.js" type="text/javascript"></script>


<script type="module">
        import { truncateText } from '/js/truncateText.js'; // truncate.js íŒŒì¼ ê²½ë¡œ
		  import { formatCurrency} from '/js/formatCurrency.js'; 
        window.onload = function() {



        const titleElements = document.querySelectorAll('.boardTitle');
    const addressElement = document.querySelector('#boardAddress');
    
    // ëª¨ë“  ì œëª©ì— ëŒ€í•´ ì²˜ë¦¬
   titleElements.forEach(titleElement => {
        titleElement.innerText = truncateText(titleElement.innerText, 30);
    });
    
    // ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ ì²˜ë¦¬
 
        let addressText = addressElement.innerText.trim();
        let splitedAddress = addressText.split(" ");
        
        // ì£¼ì†Œê°€ 3ê°œ ì´ìƒì˜ ë¶€ë¶„ì„ ê°–ëŠ” ê²½ìš°, ì²« 3ë¶€ë¶„ë§Œ ì‚¬ìš©
        if (splitedAddress.length >= 3) {
            addressElement.innerText = splitedAddress[0] + " " + splitedAddress[1] + " " + splitedAddress[2];
        } else {
            // ì£¼ì†Œê°€ 3ê°œ ë¯¸ë§Œì¸ ê²½ìš°, ì „ì²´ ì£¼ì†Œ ê·¸ëŒ€ë¡œ í‘œì‹œ
            addressElement.innerText = splitedAddress.join(" ");
        }



    document.querySelectorAll('h2[id^="price-"]').forEach(function(cell) {
      const price = parseFloat(cell.innerText);
      cell.innerText = formatCurrency(price) + 'ì›';
    });
    
  };

    
    </script>









<!-- 	<script src="/js/formatCurrency.js" type="module"></script> -->
	<script src="/js/getComment.js" type="module"></script>
	<script src="/js/addComment.js" type="module"></script>
	<!-- 	<script type="module" src="/js/commentLike.js"></script> -->
	<script src="/js/boardLike.js" type="module"></script>
	<script src="/js/tradeModule.js" type="module"></script>
	<script src="/js/chatModule.js" type="module"></script>
	<script src="/js/kakaoAddressApi.js" type="module"></script>
	<!-- 	 <th:block th:replace="/footer :: footerFragment"></th:block> -->


</body>



</html>
