<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
</head>
<body>
    <div th:replace="~{header.html}"></div>
    <h2>마이페이지 (수정)</h2>



<!--         아이디(고유 식별번호) -->
<!--         <label for="id">식별 번호</label> -->
        <input type="hidden" id="id" name="id" th:value="${member.id}" required />




<!--         아이디 -->
        <label for="userid">아이디</label>
        <input type="text" id="userid" name="userid" th:value="${member.userid}" required />
        <button type="button" onclick="checkId()">중복확인</button><br>
        
        
   <!-- 비밀번호 -->
        <label for="password">비밀번호:</label>
        <input type="password" id="password" name="password" required><br>
        
        <!-- 비밀번호 확인 -->
        <label for="password_check">비밀번호 확인</label>
        <input type="password" id="password_check" name="password_check"  required><br>
        
        
        
        
  
        
        

<!--         이름 -->
        <label for="name">이름</label>
        <input type="text" id="name" name="name" th:value="${member.name}" required /><br>

<!-- 프로필 이미지 확인 -->
<label for="profileImage">프로필 이미지</label>
<input type="file" id="profileImage" name="profileImage" required>

<!-- 이미지 미리보기 -->
	<div th:if="${member.profileImage != null}">
        <div id="imagePreview" style="margin-top: 10px;">
            <img id="previewImage" th:src="@{{imagePath}(imagePath=${member.profileImage})}" alt="Profile Image Preview" style="display: block; width: 100px; height: 100px;">
        </div>
        </div>
      
   	<div th:if="${member.profileImage == null}">
        <div id="imagePreview" style="margin-top: 10px;">
            <img id="previewImage" src="/boardimage/nullimage.jpg" alt="no profile image" style="display: block; width: 100px; height: 100px;">
        </div>
        </div>     
        
<br>

<!--         나이 -->
        <label for="age">나이</label>
        <input type="number" id="age" name="age" th:value="${member.age}" required /><br>

<!--         성별 -->
        <label for="gender">성별</label>
        <select id="gender" name="gender" th:value="${member.gender}">
            <option value="MALE">남자</option>
            <option value="FEMALE">여자</option>
        </select><br>

<!--         <label for="gender">성별</label> -->
<!--         <input type="text" id="gender" name="gender" th:value="${member.gender}" required /><br> -->

<!--         연락처 -->
        <label for="phone">연락처</label>
        <input type="tel" id="phone" name="phone" th:value="${member.phone}" required /><br>

<!--         주소 -->
        <label for="address">주소</label>
        <textarea id="address" name="address" cols="40" rows="3" th:text="${member.address}" required></textarea><br>

<!--         역할 -->
<!--         <label for="roles">역할</label> -->
<!--         <input type="text" id="roles" name="roles" th:value="${member.roles}" readonly /><br> -->

<!--         회원수정 버튼 -->
        <button type="button" id ="updateMember">수정완료</button>
     </form> 

    <script src="https://code.jquery.com/jquery-3.6.4.min.js" defer></script>
<!--     <script src="/js/joinValidation.js" defer></script> -->
		<script src="/js/checkId.js" defer></script>
	    <script src="/js/updateMember.js" defer></script>
		<script>
        // 프로필 이미지 미리보기
        document.getElementById('profileImage').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const previewImage = document.getElementById('previewImage');
                previewImage.src = e.target.result;
                previewImage.style.display = 'block'; // 이미지를 보여주기
            };

            if (file) {
                reader.readAsDataURL(file); // 이미지 파일을 DataURL로 변환
            }
        });
    </script>

</body>
</html>
