<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 가입</title>

</head>

<body>
    <div th:replace="~{header.html}"></div>
    <h2>회원가입</h2>
    <form action="/serverjoin" method="post"  enctype="multipart/form-data" onsubmit="return joinValidation(e)">	
<!--     즉, 파일을 서버로 전달하기 위해서는 form 태그에 enctype="multipart/form-data" 속성을 추가해야 합니다. -->
        <!-- 아이디 -->
        <label for="userid">아이디</label>
        <input type="text" id="userid" name="userid" required>
        
        <button type = "button" onClick = "checkId()">중복확인</button>
        
        <br>
        
        <!-- 비밀번호 -->
        <label for="password">비밀번호:</label>
        <input type="password" id="password" name="password" required><br>
        
        <!-- 비밀번호 확인 -->
        <label for="password_check">비밀번호 확인</label>
        <input type="password" id="password_check" name="password_check"  required><br>
        
        <!-- 이름 -->
        <label for="name">이름</label>
        <input type="text" id="name" name="name" ><br>
        
<!-- 프로필 이미지 확인 -->
<!-- 사용자가 프로필 이미지를 업로드할 수 있는 입력 필드입니다. -->
<label for="profileImage">프로필 이미지</label>
<input type="file" id="profileImage" name="profileImage" >

<!-- 이미지 미리보기 -->
<!-- 사용자가 선택한 이미지를 미리보기로 보여주는 영역입니다. -->
<!-- 미리보기 이미지는 기본적으로 숨겨져 있으며, 사용자가 이미지를 업로드하면 표시됩니다. -->
<div id="imagePreview" style="margin-top: 10px;">
    <img id="previewImage" src="#" alt="Profile Image Preview" style="display: none; width: 100px; height: 100px;">
</div>

<br>
        
        <!-- 나이 -->
        <label for="age">나이</label>
        <input type="number" id="age" name="age" ><br>
        
        <!-- 성별 -->
        <label for="gender">성별</label>
        <select id="gender" name="gender" required>
            <option value="">선택</option>
            <option value="MALE">남자</option>
            <option value="FEMALE">여자</option>
        </select><br>
        
        <!-- 연락처 -->
        <label for="phone">연락처</label>
        <input type="tel" id="phone" name="phone" ><br>
        
        <!-- 주소 -->
        <label for="address">주소</label>
        <textarea id="address" name="address" cols="40" rows="3" ></textarea><br>
        
        
      <label for="password_admin">※ 관리자이십니까? (패스워드를 입력할 경우 관리자로 전환됩니다)</label>
        <input type= "password"  id="password_admin" name="password_admin" cols="40" rows="3" /><br>
        
        
        <!-- 회원가입 버튼 -->
        <button type="submit">회원가입</button>
        
        
        
        
    </form>
        <div th:replace="~{footer.html}"></div>
<!--     	 <th:block th:replace="/footer :: footerFragment"></th:block> -->
         <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
       <script src="/js/checkId.js" type="text/javascript"></script>       
    <script  src="/js/joinValidation.js" type="text/javascript"></script>
  <script>
        // 프로필 이미지 미리보기
        document.getElementById('profileImage').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const previewImage = document.getElementById('previewImage');
                previewImage.src = e.target.result;
                previewImage.style.display = 'block'; // 이미지를 보여주기
            };

            if (file) {
                reader.readAsDataURL(file); // 이미지 파일을 DataURL로 변환
            }
        });
    </script>
    
</body>
</html>
